(this.webpackJsonpadmin=this.webpackJsonpadmin||[]).push([[0],{62:function(e,t,n){},87:function(e,t,n){"use strict";n.r(t);var a=n(6),r=n(0),c=n.n(r),i=n(9),s=n.n(i),u=(n(62),n(50)),o=n(12),l=n.n(o),j=n(15),h=n(38),p=n(135),b={baseURL:"https://fullstacktenttiapp.azurewebsites.net"},d=n(30),x=n.n(d),f=function(){var e=Object(j.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:t}},e.prev=1,e.next=4,x.a.get(b.baseURL+"/kayttaja",n);case 4:if("OK"!==(a=e.sent).statusText){e.next=10;break}return console.log("K\xe4ytt\xe4j\xe4t haettu haettu"),e.abrupt("return",a);case 10:throw"K\xe4ytt\xe4j\xe4haussa ongelmia";case 11:e.next=16;break;case 13:throw e.prev=13,e.t0=e.catch(1),e.t0;case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(j.a)(l.a.mark((function e(t,n){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:n}},e.prev=1,e.next=4,x.a.delete(b.baseURL+"/kayttaja/"+t,a);case 4:if("OK"!==(r=e.sent).statusText){e.next=9;break}return e.abrupt("return",r);case 9:throw"k\xe4ytt\xe4j\xe4n poistossa ongelmia";case 10:e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(1),e.t0;case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,n){return e.apply(this,arguments)}}(),O=function(){var e=Object(j.a)(l.a.mark((function e(t,n,a){var r,c,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={headers:{Authorization:a}},c={rooli:n},e.prev=2,e.next=5,x.a.put(b.baseURL+"/kayttaja/"+t,c,r);case 5:if("OK"!==(i=e.sent).statusText){e.next=10;break}return e.abrupt("return",i);case 10:throw"roolin muutoksessa ongelmia";case 11:e.next=16;break;case 13:throw e.prev=13,e.t0=e.catch(2),e.t0;case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t,n,a){return e.apply(this,arguments)}}(),m=n(134),g=n(123),y=n(129),k=n(133),w=n(132),C=n(128),R=n(130),K=n(131),U=n(127),z=Object(g.a)({table:{minWidth:650}});var A=function(){var e=Object(r.useState)([]),t=Object(h.a)(e,2),n=t[0],c=t[1],i=Object(r.useState)(""),s=Object(h.a)(i,2),o=s[0],b=s[1],d=function(){var e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f(o);case 3:t=e.sent,c(t.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(j.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v(t,o);case 3:a=n.filter((function(e){return e.id!==t})),c(a),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(j.a)(l.a.mark((function e(t,a){var r,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="admin"===a?"normal":"admin",e.prev=1,e.next=4,O(t,r,o);case 4:i=Object(u.a)(n),i.find((function(e){return e.id===t})).rooli=r,c(i),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(1);case 12:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}(),A=z();return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsxs)("div",{style:{display:"flex",height:100,flexDirection:"row,",justifyContent:"center",alignItems:"center"},children:[Object(a.jsx)(p.a,{style:{height:50,marginRight:20},onClick:d,color:"primary",variant:"outlined",children:"Hae K\xe4ytt\xe4j\xe4t"}),Object(a.jsx)(m.a,{text:o,variant:"outlined",type:"password",label:"Secret",onChange:function(e){return b(e.target.value)}})]}),Object(a.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:Object(a.jsx)(C.a,{component:U.a,children:Object(a.jsxs)(y.a,{className:A.table,size:"small","aria-label":"simple table",children:[Object(a.jsx)(R.a,{children:Object(a.jsxs)(K.a,{children:[Object(a.jsx)(w.a,{children:"ID"}),Object(a.jsx)(w.a,{children:"K\xe4ytt\xe4j\xe4tunnus"}),Object(a.jsx)(w.a,{children:"Rooli"}),Object(a.jsx)(w.a,{align:"center",children:"Muuta Rooli"}),Object(a.jsx)(w.a,{align:"center",children:"Poisto"})]})}),Object(a.jsx)(k.a,{children:n.map((function(e){return Object(a.jsxs)(K.a,{children:[Object(a.jsx)(w.a,{align:"left",children:e.id}),Object(a.jsx)(w.a,{align:"left",children:e.k\u00e4ytt\u00e4j\u00e4tunnus}),Object(a.jsx)(w.a,{align:"left",children:e.rooli}),Object(a.jsxs)(w.a,{align:"center",children:[Object(a.jsx)(p.a,{onClick:function(){return g(e.id,e.rooli)},children:"Muuta Rooli"})," "]}),Object(a.jsxs)(w.a,{align:"center",children:[Object(a.jsx)(p.a,{onClick:function(){return x(e.id)},children:"Poista"})," "]})]},e.id)}))})]})})}),Object(a.jsxs)("div",{style:{display:"flex",marginTop:100,height:100,flexDirection:"row,",justifyContent:"center",alignItems:"center"},children:[Object(a.jsx)(p.a,{style:{height:50,marginRight:20},onClick:function(){},color:"primary",variant:"outlined",children:"Create User"}),Object(a.jsx)(m.a,{style:{marginRight:20},text:o,variant:"outlined",label:"Username",onChange:function(e){return b(e.target.value)}}),Object(a.jsx)(m.a,{text:o,variant:"outlined",type:"password",label:"Password",onChange:function(e){return b(e.target.value)}})]})]})};s.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(A,{})}),document.getElementById("root"))}},[[87,1,2]]]);
//# sourceMappingURL=main.75e18ec2.chunk.js.map